---
layout: default
language: 'uk-ua'
version: '4.0'
title: 'Стандарти кодування'
keywords: 'coding standard, zephir, стандарти кодування'
---

# Стандарти кодування Phalcon

* * *

![](/assets/images/document-status-stable-success.svg) ![](/assets/images/version-{{ page.version }}.svg)

Останнє оновлення: 2019-07-04

Phalcon написано мовою [Zephir](https://zephir-lang.com), яку створила команда Phalcon і активно розвиває. Тому не існує встановлених стандартів кодування, яких можуть дотримуватись розробники, якщо бажають.

У цьому документі ми розкриємо стандарти кодування, які використовує Phalcon для редагування файлів Zephir. Стандарт кодування - це варіант [PSR-12](https://www.php-fig.org/psr/psr-12/), розроблений [PHP-FIG](https://www.php-fig.org/)

## Файли

- Файли мають використовувати лише UTF-8 без BOM.
- Імена файлів повинні називатися по принципу StudlyCaps (великі літери виділяють істотні складові суті файла).
- Всі файли повинні використовувати кінець рядка за правилами Unix LF (linefeed).
- Всі файли мають закінчуватися одним пустим рядком.
- Теки теж називаються по принципу StudlyCaps, а дерево директорії/підкаталога слідують за простором імен класу.

```php
phalcon/Acl/Adapter/Memory.zep
```

```php
namespace Phalcon\Acl\Adapter;

use Phalcon\Acl\Adapter;

class Memory extends Adapter
{

}
```

- Код має використовувати 4 пробіли для відступу, а не таби.
- Рядки повинні містити 80 символів або менше. Жорсткий ліміт на довжину рядка 120 символів.
- Має бути по одному порожньому рядку після декларування простору імен та після блоку оголошень використання "use".
- У кінці непорожніх ліній не повинно бути пробілів.
- Порожні лінії можуть бути додані для поліпшення читабельності та виділення пов'язаних блоків коду.
- У кожному рядку повинно бути не більш одного твердження.

## Класи

- Імена класів повинні бути оголошені по принципу StudlyCaps.
- Відкриваючі дужки класів повинні розташовуватися у наступному рядку, а закриваючі дужки - у наступному рядку після тіла.
- Абстрактні класи повинні бути попередньо визначені за допомогою `Abstract`
- Інтерфейси повинні мати суфікс `Interface`

### Константи

- Класові константи мають бути задекларовані у верхньому регістрі з роздільниками підкреслення.
- Константи класу повинні з'явитись на початку вмісту класу.
- Константи класу потрібно відсортувати по алфавіту за іменем.

```php
namespace Phalcon\Acl;

class Enum
{
    const ALLOW = 1;
    const DENY  = 0;
}
```

### Властивості

- Властивості класу повинні бути оголошені у верблюжому (горбатому) регістрі.
- Властивості класу мають бути відсортовані в алфавітному порядку за назвою.
- Завжди, коли це можливо, властивості повинні мати значення за замовчуванням.
- Коли це можливо, властивості повинні мати док-блок, який визначає їх тип за допомогою декларації `@var`.
- Властивості не повинні мати підкресленням `_` на початку назви. Єдиний виняток допускається, якщо назва властивості є зарезервованим ключовим словом, наприклад `default`, `namespace` і т. д.

```php
namespace Phalcon\Acl\Adapter;

use Phalcon\Acl\Adapter;

class Memory extends Adapter
{
    /**
     * Returns latest key used to acquire access
     *
     * @var string | null
     */
    protected activeKey = "" { get };
}
```

### Методи

- Імена методів мають бути задекларовані у верблюжому (горбатому) регістрі.
- Методи мають бути відсортовані в алфавітному порядку і починатись з визначення їх видимості. Порядок є таким: `public`, `protected` і `private`. `__construct`, якщо визначено, має бути вгорі вмісту класу.
- Назви методів не повинні містити підкреслювання `_` на початку.
- Всі методи повинні мати тип повернення. Якщо метод не повертає нічого, він має бути позначений як `void`
- Відкриття дужок методів має відбуватися на наступному рядку після їх декларування, а закриття дужок - на наступному рядку після їх тіла.
- Видимість має бути оголошена у всіх властивостях та методах; `abstract` та `final` мають бути оголошені перед видимістю; `static` повинна бути оголошена після видимості.

```php
abstract public function getElement() -> var;

final public function getElement() -> var;

public static function getElement() -> var;
```

- Ключові слова контрольної структури повинні мати один пробіл після них, а виклики метода та функції навпаки не повинні.
- Відкриття дужок для контрольних структур має відбуватися в тому ж рядку, а закриття дужок має відбуватися у наступному рядку після тіла.
- Контрольні структури, такі як `if` не повинні містити круглих дужок навколо умови, якщо тільки це не складна умова.

```php
if typeof variable === "array" {

}
```

### Аргументи методу

- У списку аргументів не має бути пробілу перед кожною комою, але після кожної коми має бути один пробіл.
- Кожен метод повинен мати свій тип оголошений перед ним
- Аргументи методу зі значеннями за замовчуванням повинні йти в кінці списку аргументів.

```php
public function setElement(string! name, var value) -> void;
```

- Argument lists MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list must be on the next line, and there must be only one argument per line.

### PHP Files

PHP files such as tests must follow [PSR-12](https://www.php-fig.org/psr/psr-12/).