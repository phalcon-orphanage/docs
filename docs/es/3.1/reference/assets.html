<!DOCTYPE html>

<html lang="en">
  <head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Assets Management &mdash; documentación de Phalcon - 3.1.1 (Spanish / Español)</title>
    <meta name="keywords" content="php, phalcon, phalcon php, php framework, faster php framework">
    <link rel="stylesheet" type="text/css" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="//static.phalconphp.com/www/css/phalcon.min.css" />
    <link href='//fonts.googleapis.com/css?family=Open+Sans:700,400' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/css?family=Merriweather:400,700" rel="stylesheet" type="text/css" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" />
    <!--
    EUROPE <link href='//fonts.googleapis.com/css?family=Open+Sans:700,400&subset=latin-ext' rel='stylesheet' type='text/css'>
    GREEK <link href='//fonts.googleapis.com/css?family=Open+Sans:700,400&subset=greek-ext' rel='stylesheet' type='text/css'>
    RUSSIA <link href='//fonts.googleapis.com/css?family=Open+Sans:700,400&subset=cyrillic-ext,latin' rel='stylesheet' type='text/css'>
    -->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.1.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/docs.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="documentación de Phalcon - 3.1.1" href="../index.html" />
    <link rel="next" title="Volt: Template Engine" href="volt.html" />
    <link rel="prev" title="View Helpers (Tags)" href="tags.html" /> 
  </head>
  <body>

<header class="page-header">
    <nav class="navbar" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-container">
                    <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
                </button>
                <a class="navbar-brand phalcon-logo" href="/"><span itemprop="name" class="sr-only">Phalcon PHP</span></a>
            </div>

            <div class="collapse navbar-collapse navbar-right" id="main-menu-container">
                <ul class="nav navbar-nav main-menu">
                  <li class="first"><a href="//phalconphp.com/en/download" class="header-nav-link">Download</a></li>
                  <li><a href="//docs.phalconphp.com/en/latest/index.html" class="header-nav-link" target="_blank">Documentation</a></li>
                  <li><a href="//forum.phalconphp.com/" class="header-nav-link" target="_blank">Forum</a></li>
                  <li><a href="//blog.phalconphp.com/" class="header-nav-link" target="_blank">Blog</a></li>
                  <li><a href="//phalconist.com/" class="header-nav-link" target="_blank">Resources</a></li>
                  <li><a href="//phalconphp.com/en/about">About</a></li>
                  <li><div align="right">
                      <iframe src="https://ghbtns.com/github-btn.html?user=phalcon&amp;repo=cphalcon&amp;type=watch&amp;count=true&amp;size=large"
      allowtransparency="true" frameborder="0" scrolling="0" width="152px" height="30px"></iframe>
                    </div></li>
                </ul>
            </div>
        </div>
    </nav>
  </header>

<div class="heading">
    <div class="container">
        <div class="row">
            <h2>Documentation</h2>
        </div>
    </div>
</div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="volt.html" title="Volt: Template Engine"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="tags.html" title="View Helpers (Tags)"
             accesskey="P">anterior</a> |</li>
        <li><a href="//phalconphp.com">Home</a> &raquo;</li>
        <li><a href="../index.html">documentación de Phalcon - 3.1.1</a> &raquo;</li> 
      </ul>
    </div>  

      <table width="100%" align="center" cellpadding="0" cellspacing="0">
        <tr>
      <td class="primary-box" width="25%" valign="top">
            <div>
            <div id="searchbox" style="">
                <!--<form class="search" action="http://readthedocs.org/search/project/" method="get">
                  <input type="search" name="q" size="25" placeholder="Search">
                  <input type="submit" value="Go">
                  <input type="hidden" name="selected_facets" value="project:">
                </form>-->
                <div style="width:200px;padding:10px">
                  <gcse:searchbox-only></gcse:searchbox-only>
                </div>
            </div>
            </div>
            <div style="padding:5px;padding-left:10px">
              <div id="carbonads-container">
                <div class="carbonad"><div id="azcarbon"></div>
                <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=phalconphpcom" id="_carbonads_js"></script>
                </div></div>
            </div>
            <h3><a href="../index.html">Tabla de Contenidos</a></h3>
            <ul>
<li><a class="reference internal" href="#">Assets Management</a><ul>
<li><a class="reference internal" href="#adding-resources">Adding Resources</a></li>
<li><a class="reference internal" href="#local-remote-resources">Local/Remote resources</a></li>
<li><a class="reference internal" href="#collections">Collections</a></li>
<li><a class="reference internal" href="#url-prefixes">URL Prefixes</a></li>
<li><a class="reference internal" href="#minification-filtering">Minification/Filtering</a><ul>
<li><a class="reference internal" href="#built-in-filters">Built-In Filters</a></li>
<li><a class="reference internal" href="#custom-filters">Custom Filters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-output">Custom Output</a></li>
</ul>
</li>
</ul>

            <h4>Tema anterior</h4>
            <p class="topless"><a href="tags.html" title="capítulo anterior">&lt; View Helpers (Tags)</a></p>
            <h4>Próximo tema</h4>
            <p class="topless"><a href="volt.html" title="próximo capítulo">Volt: Template Engine &gt;</a></p>
            <h3>Esta página</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/reference/assets.txt" rel="nofollow">Mostrar el código</a></li>
            </ul>
        </td>
          <td class="second-box" valign="top">
            <div class="document">
                <div class="documentwrapper">
                  <div class="bodywrapper">
                    <div class="body" >
                      
  <div class="section" id="assets-management">
<h1>Assets Management<a class="headerlink" href="#assets-management" title="Enlazar permanentemente con este título">¶</a></h1>
<p><code class="code docutils literal"><span class="pre">Phalcon\Assets</span></code> is a component that allows you to manage static resources
such as CSS stylesheets or JavaScript libraries in a web application.</p>
<p><a class="reference internal" href="../api/Phalcon_Assets_Manager.html"><em>Phalcon\Assets\Manager</em></a> is available in the services
container, so you can add resources from any part of the application where the container
is available.</p>
<div class="section" id="adding-resources">
<h2>Adding Resources<a class="headerlink" href="#adding-resources" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Assets supports two built-in resources: CSS and JavaScripts. You can create other
resources if you need. The assets manager internally stores two default collections
of resources - one for JavaScript and another for CSS.</p>
<p>You can easily add resources to these collections like follows:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Mvc\Controller</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Add some local CSS resources</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addCss</span><span class="p">(</span><span class="s2">&quot;css/style.css&quot;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addCss</span><span class="p">(</span><span class="s2">&quot;css/index.css&quot;</span><span class="p">);</span>

        <span class="c1">// And some local JavaScript resources</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/jquery.js&quot;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/bootstrap.min.js&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then in a view, these resources can be printed:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Some amazing website<span class="nt">&lt;/title&gt;</span>

        <span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">outputCss</span><span class="p">();</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>

        <span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">outputJs</span><span class="p">();</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;html&gt;</span>
</pre></div>
</div>
<p>Volt syntax:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Some amazing website<span class="nt">&lt;/title&gt;</span>

        <span class="cp">{{</span> <span class="nv">assets.outputCss</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>

        <span class="cp">{{</span> <span class="nv">assets.outputJs</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;html&gt;</span>
</pre></div>
</div>
<p>For better pageload performance, it is recommended to place JavaScript at the end of the HTML instead of in the <code class="code docutils literal"><span class="pre">&lt;head&gt;</span></code>.</p>
</div>
<div class="section" id="local-remote-resources">
<h2>Local/Remote resources<a class="headerlink" href="#local-remote-resources" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Local resources are those who are provided by the same application and they&#8217;re located in the document root
of the application. URLs in local resources are generated by the &#8216;url&#8217; service, usually
<a class="reference internal" href="../api/Phalcon_Mvc_Url.html"><em>Phalcon\Mvc\Url</em></a>.</p>
<p>Remote resources are those such as common libraries like jQuery, Bootstrap, etc. that are provided by a CDN.</p>
<p>The second parameter of <code class="code docutils literal"><span class="pre">addCss()</span></code> and <code class="code docutils literal"><span class="pre">addJs()</span></code> says whether the resource is local or not (<code class="code docutils literal"><span class="pre">true</span></code> is local, <code class="code docutils literal"><span class="pre">false</span></code> is remote). By default, the assets manager will assume the resource is local:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Add some local CSS resources</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addCss</span><span class="p">(</span><span class="s2">&quot;//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addCss</span><span class="p">(</span><span class="s2">&quot;css/style.css&quot;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">addCss</span><span class="p">(</span><span class="s2">&quot;css/extra.css&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="collections">
<h2>Collections<a class="headerlink" href="#collections" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Collections group resources of the same type. The assets manager implicitly creates two collections: <code class="code docutils literal"><span class="pre">css</span></code> and <code class="code docutils literal"><span class="pre">js</span></code>.
You can create additional collections to group specific resources to make it easier to place those resources in the views:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Javascripts in the header</span>
<span class="nv">$headerCollection</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;header&quot;</span><span class="p">);</span>

<span class="nv">$headerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/jquery.js&quot;</span><span class="p">);</span>
<span class="nv">$headerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/bootstrap.min.js&quot;</span><span class="p">);</span>

<span class="c1">// Javascripts in the footer</span>
<span class="nv">$footerCollection</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;footer&quot;</span><span class="p">);</span>

<span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/jquery.js&quot;</span><span class="p">);</span>
<span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/bootstrap.min.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Then in the views:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Some amazing website<span class="nt">&lt;/title&gt;</span>

        <span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">outputJs</span><span class="p">(</span><span class="s2">&quot;header&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>

        <span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">outputJs</span><span class="p">(</span><span class="s2">&quot;footer&quot;</span><span class="p">);</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;html&gt;</span>
</pre></div>
</div>
<p>Volt syntax:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Some amazing website<span class="nt">&lt;/title&gt;</span>

        <span class="cp">{{</span> <span class="nv">assets.outputCss</span><span class="o">(</span><span class="s2">&quot;header&quot;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/head&gt;</span>

    <span class="nt">&lt;body&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>

        <span class="cp">{{</span> <span class="nv">assets.outputJs</span><span class="o">(</span><span class="s2">&quot;footer&quot;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;html&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="url-prefixes">
<h2>URL Prefixes<a class="headerlink" href="#url-prefixes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Collections can be URL-prefixed, this enables you to easily change from one server to another at any moment:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$footerCollection</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;footer&quot;</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$config</span><span class="o">-&gt;</span><span class="na">environment</span> <span class="o">===</span> <span class="s2">&quot;development&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">setPrefix</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">setPrefix</span><span class="p">(</span><span class="s2">&quot;http:://cdn.example.com/&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/jquery.js&quot;</span><span class="p">);</span>
<span class="nv">$footerCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/bootstrap.min.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>A chainable syntax is available too:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$headerCollection</span> <span class="o">=</span> <span class="nv">$assets</span>
    <span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;header&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">setPrefix</span><span class="p">(</span><span class="s2">&quot;http://cdn.example.com/&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">setLocal</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/jquery.js&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;js/bootstrap.min.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="minification-filtering">
<h2>Minification/Filtering<a class="headerlink" href="#minification-filtering" title="Enlazar permanentemente con este título">¶</a></h2>
<p><code class="code docutils literal"><span class="pre">Phalcon\Assets</span></code> provides built-in minification of JavaScript and CSS resources. You can create a collection of
resources instructing the Assets Manager which ones must be filtered and which ones must be left as they are.
In addition to the above, Jsmin by Douglas Crockford is part of the core extension offering minification of JavaScript files
for maximum performance. In the CSS land, CSSMin by Ryan Day is also available to minify CSS files:</p>
<p>The following example shows how to minify a collection of resources:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$manager</span>

    <span class="c1">// These JavaScripts are located in the page&#39;s bottom</span>
    <span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;jsFooter&quot;</span><span class="p">)</span>

    <span class="c1">// The name of the final output</span>
    <span class="o">-&gt;</span><span class="na">setTargetPath</span><span class="p">(</span><span class="s2">&quot;final.js&quot;</span><span class="p">)</span>

    <span class="c1">// The script tag is generated with this URI</span>
    <span class="o">-&gt;</span><span class="na">setTargetUri</span><span class="p">(</span><span class="s2">&quot;production/final.js&quot;</span><span class="p">)</span>

    <span class="c1">// This is a remote resource that does not need filtering</span>
    <span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;code.jquery.com/jquery-1.10.0.min.js&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>

    <span class="c1">// These are local resources that must be filtered</span>
    <span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;common-functions.js&quot;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;page-functions.js&quot;</span><span class="p">)</span>

    <span class="c1">// Join all the resources in a single file</span>
    <span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>

    <span class="c1">// Use the built-in Jsmin filter</span>
    <span class="o">-&gt;</span><span class="na">addFilter</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">Phalcon\Assets\Filters\Jsmin</span><span class="p">()</span>
    <span class="p">)</span>

    <span class="c1">// Use a custom filter</span>
    <span class="o">-&gt;</span><span class="na">addFilter</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">MyApp\Assets\Filters\LicenseStamper</span><span class="p">()</span>
    <span class="p">);</span>
</pre></div>
</div>
<p>A collection can contain JavaScript or CSS
resources but not both. Some resources may be remote, that is, they&#8217;re obtained by HTTP from a remote source
for further filtering. It is recommended to convert the external resources to local for better performance.</p>
<p>As seen above, the <code class="code docutils literal"><span class="pre">addJs()</span></code> method is used to add resources to the collection, the second parameter indicates
whether the resource is external or not and the third parameter indicates whether the resource should
be filtered or left as is:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// These Javascripts are located in the page&#39;s bottom</span>
<span class="nv">$jsFooterCollection</span> <span class="o">=</span> <span class="nv">$manager</span><span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;jsFooter&quot;</span><span class="p">);</span>

<span class="c1">// This a remote resource that does not need filtering</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;code.jquery.com/jquery-1.10.0.min.js&quot;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>

<span class="c1">// These are local resources that must be filtered</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;common-functions.js&quot;</span><span class="p">);</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">addJs</span><span class="p">(</span><span class="s2">&quot;page-functions.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Filters are registered in the collection, multiple filters are allowed, content in resources are filtered
in the same order as filters were registered:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Use the built-in Jsmin filter</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">addFilter</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">Phalcon\Assets\Filters\Jsmin</span><span class="p">()</span>
<span class="p">);</span>

<span class="c1">// Use a custom filter</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">addFilter</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">MyApp\Assets\Filters\LicenseStamper</span><span class="p">()</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Note that both built-in and custom filters can be transparently applied to collections.
The last step is to decide if all the resources in the collection must be joined into a single file or serve each of them
individually. To tell the collection that all resources must be joined you can use the <code class="code docutils literal"><span class="pre">join()</span></code> method.</p>
<p>If resources are going to be joined, we need also to define which file will be used to store the resources
and which URI will be used to show it. These settings are set up with <code class="code docutils literal"><span class="pre">setTargetPath()</span></code> and <code class="code docutils literal"><span class="pre">setTargetUri()</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">join</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>

<span class="c1">// The name of the final file path</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">setTargetPath</span><span class="p">(</span><span class="s2">&quot;public/production/final.js&quot;</span><span class="p">);</span>

<span class="c1">// The script HTML tag is generated with this URI</span>
<span class="nv">$jsFooterCollection</span><span class="o">-&gt;</span><span class="na">setTargetUri</span><span class="p">(</span><span class="s2">&quot;production/final.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>If resources are going to be joined, we need also to define which file will be used to store the resources
and which URI will be used to show it. These settings are set up with <code class="code docutils literal"><span class="pre">setTargetPath()</span></code> and <code class="code docutils literal"><span class="pre">setTargetUri()</span></code>.</p>
<div class="section" id="built-in-filters">
<h3>Built-In Filters<a class="headerlink" href="#built-in-filters" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Phalcon provides 2 built-in filters to minify both JavaScript and CSS, their C-backend provide
the minimum overhead to perform this task:</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Filter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="../api/Phalcon_Assets_Filters_Jsmin.html"><em>Phalcon\Assets\Filters\Jsmin</em></a></td>
<td>Minifies JavaScript by removing unnecessary characters that are ignored by Javascript interpreters/compilers</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="../api/Phalcon_Assets_Filters_Cssmin.html"><em>Phalcon\Assets\Filters\Cssmin</em></a></td>
<td>Minifies CSS by removing unnecessary characters that are already ignored by browsers</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="custom-filters">
<h3>Custom Filters<a class="headerlink" href="#custom-filters" title="Enlazar permanentemente con este título">¶</a></h3>
<p>In addition to the built-in filters, you can create your own filters. These can take advantage of existing
and more advanced tools like <a class="reference external" href="http://yui.github.io/yuicompressor/">YUI</a>, <a class="reference external" href="http://sass-lang.com/">Sass</a>, <a class="reference external" href="https://developers.google.com/closure/compiler/?hl=fr">Closure</a>, etc.:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Assets\FilterInterface</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * Filters CSS content using YUI</span>
<span class="sd"> *</span>
<span class="sd"> * @param string $contents</span>
<span class="sd"> * @return string</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">CssYUICompressor</span> <span class="k">implements</span> <span class="nx">FilterInterface</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$_options</span><span class="p">;</span>

    <span class="sd">/**</span>
<span class="sd">     * CssYUICompressor constructor</span>
<span class="sd">     *</span>
<span class="sd">     * @param array $options</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="k">array</span> <span class="nv">$options</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span> <span class="o">=</span> <span class="nv">$options</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Do the filtering</span>
<span class="sd">     *</span>
<span class="sd">     * @param string $contents</span>
<span class="sd">     *</span>
<span class="sd">     * @return string</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">filter</span><span class="p">(</span><span class="nv">$contents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Write the string contents into a temporal file</span>
        <span class="nb">file_put_contents</span><span class="p">(</span><span class="s2">&quot;temp/my-temp-1.css&quot;</span><span class="p">,</span> <span class="nv">$contents</span><span class="p">);</span>

        <span class="nb">system</span><span class="p">(</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span><span class="p">[</span><span class="s2">&quot;java-bin&quot;</span><span class="p">]</span> <span class="o">.</span>
            <span class="s2">&quot; -jar &quot;</span> <span class="o">.</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span><span class="p">[</span><span class="s2">&quot;yui&quot;</span><span class="p">]</span> <span class="o">.</span>
            <span class="s2">&quot; --type css &quot;</span> <span class="o">.</span>
            <span class="s2">&quot;temp/my-temp-file-1.css &quot;</span> <span class="o">.</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_options</span><span class="p">[</span><span class="s2">&quot;extra-options&quot;</span><span class="p">]</span> <span class="o">.</span>
            <span class="s2">&quot; -o temp/my-temp-file-2.css&quot;</span>
        <span class="p">);</span>

        <span class="c1">// Return the contents of file</span>
        <span class="k">return</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="s2">&quot;temp/my-temp-file-2.css&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Usage:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Get some CSS collection</span>
<span class="nv">$css</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">);</span>

<span class="c1">// Add/Enable the YUI compressor filter in the collection</span>
<span class="nv">$css</span><span class="o">-&gt;</span><span class="na">addFilter</span><span class="p">(</span>
    <span class="k">new</span> <span class="nx">CssYUICompressor</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="s2">&quot;java-bin&quot;</span>      <span class="o">=&gt;</span> <span class="s2">&quot;/usr/local/bin/java&quot;</span><span class="p">,</span>
            <span class="s2">&quot;yui&quot;</span>           <span class="o">=&gt;</span> <span class="s2">&quot;/some/path/yuicompressor-x.y.z.jar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;extra-options&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;--charset utf8&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>In a previous example, we used a custom filter called <code class="code docutils literal"><span class="pre">LicenseStamper</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Assets\FilterInterface</span><span class="p">;</span>

<span class="sd">/**</span>
<span class="sd"> * Adds a license message to the top of the file</span>
<span class="sd"> *</span>
<span class="sd"> * @param string $contents</span>
<span class="sd"> *</span>
<span class="sd"> * @return string</span>
<span class="sd"> */</span>
<span class="k">class</span> <span class="nc">LicenseStamper</span> <span class="k">implements</span> <span class="nx">FilterInterface</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Do the filtering</span>
<span class="sd">     *</span>
<span class="sd">     * @param string $contents</span>
<span class="sd">     * @return string</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">filter</span><span class="p">(</span><span class="nv">$contents</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$license</span> <span class="o">=</span> <span class="s2">&quot;/* (c) 2015 Your Name Here */&quot;</span><span class="p">;</span>

        <span class="k">return</span> <span class="nv">$license</span> <span class="o">.</span> <span class="nx">PHP_EOL</span> <span class="o">.</span> <span class="nx">PHP_EOL</span> <span class="o">.</span> <span class="nv">$contents</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-output">
<h2>Custom Output<a class="headerlink" href="#custom-output" title="Enlazar permanentemente con este título">¶</a></h2>
<p>The <code class="code docutils literal"><span class="pre">outputJs()</span></code> and <code class="code docutils literal"><span class="pre">outputCss()</span></code> methods are available to generate the necessary HTML code according to each type of resources.
You can override this method or print the resources manually in the following way:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Phalcon\Tag</span><span class="p">;</span>

<span class="nv">$jsCollection</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assets</span><span class="o">-&gt;</span><span class="na">collection</span><span class="p">(</span><span class="s2">&quot;js&quot;</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$jsCollection</span> <span class="k">as</span> <span class="nv">$resource</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nx">Tag</span><span class="o">::</span><span class="na">javascriptInclude</span><span class="p">(</span>
        <span class="nv">$resource</span><span class="o">-&gt;</span><span class="na">getPath</span><span class="p">()</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


                    </div>
                  </div>
                </div>
            </div>
          </td>
        </tr>
      </table>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="volt.html" title="Volt: Template Engine"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="tags.html" title="View Helpers (Tags)"
             >anterior</a> |</li> 
      </ul>
    </div>

      <div class="prefooter">
  <div class="container">
      <div class="row">
          <div class="col-sm-3 text-right">
              <span>Follow along:</span>
          </div>
          <div class="col-sm-6 text-center">
              <a href="https://twitter.com/phalconphp" alt="Twitter" class="btn-social btn-social-twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i></a>
              <a href="https://www.facebook.com/pages/Phalcon-Framework/134230726685897" alt="Facebook" class="btn-social btn-social-facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i></a>
              <a href="https://plus.google.com/102376109340560896457" alt="Google+" class="btn-social btn-social-googleplus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i></a>
              <a href="https://github.com/phalcon/cphalcon" alt="Github" class="btn-social btn-social-github"><i class="fa fa-fw fa-github" aria-hidden="true"></i></a>
          </div>
          <div class="col-sm-3">
          </div>
      </div>
  </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-xs-4 col-sm-3">
                <h4>Download</h4>
                <ul>
                    <li><a href="https://phalconphp.com/download">Installing Phalcon PHP</a></li>
                    <li><a href="https://docs.phalconphp.com/en/latest/index.html" class="header-nav-link" target="_blank">Documentation</a></li>
                    <li><a href="https://api.phalconphp.com">API</a></li>
                    <li><a href="https://docs.phalconphp.com/en/latest/reference/tutorial.html">Tutorial</a></li>
                    <li><a href="https://docs.phalconphp.com/en/latest/reference/tutorial.html#sample-applications">Sample Applications</a></li>
                </ul>
            </div>
            <div class="col-xs-4 col-sm-3">
                <h4>Community</h4>
                <ul>
                    <li><a href="https://forum.phalconphp.com/" class="header-nav-link" target="_blank">Forum</a></li>
                    <li><a href="https://github.com/phalcon/cphalcon">GitHub</a></li>
                    <li><a href="https://github.com/phalcon/cphalcon/issues">Issue Tracker</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/phalcon">Stack Overflow</a></li>
                    <li><a href="https://phalconphp.com/en/testimonials">Testimonials</a></li>
                    <li><a href="https://builtwith.phalconphp.com/">Built with Phalcon</a></li>
                    <li><a href="https://store.phalconphp.com/">Store</a></li>
                </ul>
            </div>
            <div class="col-xs-4 col-sm-2">
                <h4>About</h4>
                <ul>
                    <li><a class="link-black" href="http://blog.phalconphp.com/">Blog</a></li>
                    <li><a href="https://phalconphp.com/en/about">About</a></li>
                    <li><a href="https://phalconphp.com/en/team">Team</a></li>
                    <li><a href="https://phalconphp.com/en/roadmap">Roadmap</a></li>
                    <li><a href="https://phalconphp.com/en/donate">Donate</a></li>
                    <li><a href="https://phalconphp.com/en/consulting">Consulting</a></li>
                    <li><a href="https://phalconphp.com/en/hosting">Hosting</a></li>
                </ul>
            </div>
            <div id="license-spaccer" class="visible-xs"></div>
            <div id="license-wrapper" class="col-xs-12 col-sm-4">
                <p class="license">
                    Phalcon is an open-source PHP framework <br />
                    built as a C-extension. It is available under the <br />
                    <a href="http://opensource.org/licenses/BSD-3-Clause" target="_blank">new BSD License</a>.
                </p>

                <div class="design">
                    <span>Website Designed by:</span>
                </div>
                <a class="license" href="http://loudertech.com/" target="_blank" title="">
                    <span>LouderTech SAS</span>
                </a>
            </div>
        </div>
    </div>
</footer>

    </div>
    <script type="text/javascript">
    $(window).on("load", function(){
      var cx = '009733439235723428699:lh9ltjgvdz8';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//www.google.com/cse/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
    });
    </script>

  </body>
</html>